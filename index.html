<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <header class="header">
        <div>
            <i></i>
            <span>搜索旅行地/酒店/目的地</span>
        </div>
    </header>

    <section id="picWrap">
        <div id="picList">
            <img src="images/img/banner1.jpg" />
            <img src="images/img/banner2.jpg" />
            <img src="images/img/banner3.jpg" />
            <img src="images/img/banner4.jpg" />
        </div>

        <p id="picBtns">
            <span class="active"></span>
            <span></span>
            <span></span>
            <span></span>
        </p>
    </section>

    <section class="classify">
        <ul class="classify-travel">
            <li>
                <a href="#"> 旅游</a>
            </li>
            <li>
                <a href="#"><i></i>出境游</a>
            </li>
            <li>
                <a href="#"><i></i>国内游</a>
            </li>
            <li>
                <a href="#"><i></i>周边游</a>
            </li>
            <li>
                <a href="#"><i></i>当地游</a>
            </li>
        </ul>
        <ul class="classify-air-ticket">
            <li>
                <a href="#">机票</a>
            </li>
            <li>
                <a href="#">低价机票</a>
            </li>
            <li>
                <a href="#">汽车票/船票</a>
            </li>
            <li>
                <a href="#"><i></i>火车票</a>
            </li>
            <li>
                <a href="#">专车/自驾</a>
            </li>
        </ul>
        <ul class="classify-hotel">
            <li>
                <a href="#">酒店</a>
            </li>
            <li>
                <a href="#">海外酒店</a>
            </li>
            <li>
                <a href="#">国内酒店</a>
            </li>
            <li>
                <a href="#">热门酒店</a>
            </li>
            <li>
                <a href="#">特色酒店</a>
            </li>
        </ul>
    </section>
    <section class="nav-img">
        <img src="images/img/ad_0328_02.jpg" alt="">
    </section>
    <section class="Special-Sales">
        <p><i></i>特卖场</p>

        <ul class="item">
            <li class="margin-right">
                <a href="#"><img src="images/img/item-img0329_01.jpg" alt="">
                    <p>台湾环岛8日7晚跟团游。 甩尾狂甩3人行1人免单...
                    </p>
                    <p><span style="display:inline-block; margin-right:0.25rem ;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">1999</span><em style="font-size:0.12rem; color:#666666">起</em></p>
                </a>
            </li>
            <li>
                <a href="#"><img src="images/img/item-img0329_02.jpg" alt="">
                    <p> 巴厘岛7日5晚自由行。五 星豪庭，三星价格3月特...
                    </p>
                    <p><span style="display:inline-block; margin-right:0.25rem;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">2989</span><em style="font-size:0.12rem; color:#666666">起</em></p>

                </a>
            </li>
            <li class="margin-right">
                <a href="#"><img src="images/img/item-img0329_03.jpg" alt="">
                    <p>韩国首尔5日4晚跟团游。暑假预售商圈五花，好...</p>
                    <p><span style="display:inline-block; margin-right:0.25rem;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">1699</span><em style="font-size:0.12rem; color:#666666">起</em></p>

                </a>
            </li>
            <li>
                <a href="#"><img src="images/img/item-img0329_04.jpg" alt="">
                    <p>马尔代夫6日自由行.6日4.晚。全球顶级海岛蜜月...</p>
                    <p><span style="display:inline-block; margin-right:0.25rem;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">3099</span><em style="font-size:0.12rem; color:#666666">起</em></p>

                </a>
            </li>
            <li class="margin-right">
                <a href="#"><img src="images/img/item-img0329_05.jpg" alt="">
                    <p>港5日自由行●仅含往返机票 星光大道+天星小... </p>
                    <p><span style="display:inline-block; margin-right:0.25rem;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">1688</span><em style="font-size:0.12rem; color:#666666">起</em></p>

                </a>
            </li>
            <li>
                <a href="#"><img src="images/img/item-img0329_06.jpg" alt="">
                    <p>新加坡5日4晚自由行。错峰周末游，特赠送价值... </p>
                    <p><span style="display:inline-block; margin-right:0.25rem;color:#666666">席位充足</span><span style="font-size:0.08rem; color:orange">￥</span><span style="font-size:0.18rem; color:orange">2688</span><em style="font-size:0.12rem; color:#666666">起</em></p>

                </a>
            </li>
        </ul>
    </section>
    <footer class="footer-bgColor">
        <ul>
            <li><a href="#" class="active"><span class="footer-icon"></span><span>首页</span></a></li>
            <li><a href="#"><span class="footer-icon"></span><span>目的地</span></a></li>
            <li><a href="#"><span class="footer-icon"></span><span>浏览历史</span></a></li>
            <li><a href="#"><span class="footer-icon"></span><span>个人</span></a></li>
        </ul>
    </footer>
</body>
<script src="js/js.js"></script>
<script>
    var picList = document.getElementById("picList"),
        picBtns = document.getElementById("picBtns").children,
        clientW = window.screen.width,
        picWrap = document.getElementById("picWrap"),
        startX = 0,
        scrollX = 0,
        lastScrollX = 0,
        iMum = 0;
    var time;
    console.log(picBtns)
    picList.addEventListener("touchstart", function(ev) {
        startX = ev.changedTouches[0].pageX;
        lastScrollX = scrollX;
        picList.style.transition = picList.style.webkitTransition = "none";
    })
    picList.addEventListener("touchmove", function(ev) {
        var nowX = ev.changedTouches[0].pageX;
        var diffX = nowX - startX;
        scrollX = lastScrollX + diffX;
        setStyle();
    })
    picList.addEventListener("touchend", function(ev) {
        var nowX = ev.changedTouches[0].pageX,
            diffX = nowX - startX,
            index = Math.round(diffX / clientW);
        iMum -= index;
        if (iMum < 0) {
            iMum = 0;
        } else if (iMum >= picBtns.length) {
            iMum = picBtns.length - 1;
        }
        scrollX = -iMum * clientW;
        picList.style.transition = picList.style.webkitTransition = "all ease .3s"
        setStyle();
        setColor()
    })

    function setColor() {
        for (var i = 0; i < picBtns.length; i++) {
            picBtns[i].className = "";
        }
        picBtns[iMum].className = "active";
    }

    function setStyle() {
        picList.style.transform = `translateX(${scrollX}px)`;
    }

    function autoPlayImage() {
        for (var i = 0; i < picBtns.length; i++) {
            picBtns[i].className = "";
            picList.style.transform = `translateX(${0}px)`;
        }
        iMum++;
        if (iMum < 4) {
            picList.style.transform = `translateX(${-clientW*iMum}px)`;
        } else {
            iMum = 0;
        }



        picBtns[iMum].className = "active";
        console.log(iMum);
    }
    picWrap.addEventListener("mouseover", function() {
        clearInterval(timer);
    })
    picWrap.addEventListener("mouseleaver", function() {
        timer = setInterval(autoPlayImage, 2000);
    })

    timer = setInterval(autoPlayImage, 2000);
</script>

</html>